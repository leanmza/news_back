<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
    <head th:replace= "/fragments/head :: head" </head>
    <body>

        <div>
            <header th:replace="/fragments/header :: header" </header>
        </div>

        <main>
            <div class="container-fluid containerForm">
                <div class="row rowForm">
                    <div class="col-md-8 col-lg-6 col-xl-4 offset-xl-1">
                        <form
                            th:action="@{/reader/profile/__${reader.id}__}"
                            method="POST"
                            class="form"
                            id="formLogin"
                            enctype="multipart/form-data"
                            >
                            <div th:if="${error != null}" class="card text-white bg-danger mb-3 mensajeError rounded-3 p-2">
                                <div class="card-body">
                                    <h5 class="card-title fs-5 fw-bold mb-3">¡Error al registrar el usuario!</h5>
                                    <p class="card-text fs-6 mb-0 custom-error-message" th:text="${error}"></p>
                                </div>
                            </div>
                            <!-- Name input -->
                            <div class="form-outline mb-2">
                                <input
                                    type="text"
                                    id="name"
                                    name="name"
                                    class="form-control form-control-lg"
                                    placeholder="Nombre"
                                    th:value="${reader.name}"
                                    />
                                <label class="form-label" for="name">Nombre</label>
                            </div>

                            <!-- Last name input -->
                            <div class="form-outline mb-2">
                                <input
                                    type="text"
                                    id="lastName"
                                    name="lastName"
                                    class="form-control form-control-lg"
                                    placeholder="Apellido"
                                    th:value="${reader.lastName}"
                                    />
                                <label class="form-label" for="lastName">Apellido</label>
                            </div>

                            <!-- Email input -->
                            <div class="form-outline mb-2">
                                <input
                                    type="email"
                                    id="email"
                                    name="email"
                                    class="form-control form-control-lg"
                                    placeholder="Email"
                                    th:value="${reader.email}"
                                    />
                                <label class="form-label" for="email">Email</label>
                            </div>

                            <!-- Profile Picture input -->
                            <div class="form-outline mb-3">
                                <input
                                    type="file"
                                    id="image"
                                    class="form-control form-control-lg"
                                    placeholder="Foto de Perfil"
                                    name="imageFile"
                                    />
                                <label class="form-label" for="image">Foto de Perfil</label>
                            </div>
                            <!-- Password input -->
                            <div class="form-outline mb-2">
                                <input
                                    type="password"
                                    id="password"
                                    name="password"
                                    class="form-control form-control-lg"
                                    placeholder="Contraseña"
                                    autocomplete="off"
                                    />
                                <label class="form-label" for="password">Contraseña</label>
                            </div>

                            <!-- Password2 input -->
                            <div class="form-outline mb-2">
                                <input
                                    type="password"
                                    id="password2"
                                    name="password2"
                                    class="form-control form-control-lg"
                                    placeholder="Repetir Contraseña"
                                    />
                                <label class="form-label" for="password2">Repetir Contraseña</label>
                            </div>

                            <div class="text-center text-lg-start mt-4 pt-2">
                                <button
                                    type="submit"
                                    class="btn btn-primary btn-lg btnSubmit"
                                    id="btnSubmit"
                                    >
                                    Actualizar Perfil
                                </button>

                                <a  th:href="@{/home}"
                                    class=""><button
                                        type="button"
                                        class="btn btn-warning btn-lg btnSubmit"
                                        id="btnReturn"
                                        >
                                        Volver
                                    </button>
                                </a>
                            </div>
                        </form>
                    </div>
                    <div class="col-md-9 col-lg-6 col-xl-5">
                        <img
                            src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp"
                            class="img-fluid"
                            alt="Sample image"
                            />
                    </div>
                </div>
            </div>
        </main>

        <footer th:replace="/fragments/footer :: footer"> </footer>
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N"
            crossorigin="anonymous"
        ></script>
    </body>
</html>
